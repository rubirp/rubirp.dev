---
import { getCollection } from 'astro:content';
import BaseLayout  from '../layouts/BaseLayout.astro';
import HorizontalCard from '../components/HorizontalCard.astro';

const baseUrl = import.meta.env.BASE_URL;

const personal_projects = await getCollection('projects', ({ data }) => {
  return data.category === 'personal';
});

const professional_projects = await getCollection('projects', ({ data }) => {
  return data.category === 'professional';
});

---

<BaseLayout title = "Inicio" sideBarActiveItemID="home">
	<div class="pb-12 mt-5">
		<div class="text-xl py-1">Hola, bienvenid@ ðŸ‘‹</div>
		<div class="text-5xl font-bold">Soy RubÃ©n RodrÃ­guez</div>
		<div class="text-3xl py-3 font-bold">Ingeniero Multimedia y Desarrollador de Videojuegos</div>
		<div class="py-2 flex flex-col gap-y-6">
		  <text class="text-lg">
			Tras finalizar mis estudios en 2017, he estado <b>desarrollando videojuegos</b> tanto de forma independiente como <b>profesionalmente</b>.
		  </text>

		  <text class="text-lg">
			FundÃ© mi <b>propia marca, <a href="https://frasquitogames.com/" target="_blank"><u>Frasquito Games</u></a></b>, bajo la cual publico mis juegos y he trabajado en <b>proyectos profesionales</b> para empresas importantes en el <b>sector, como Electronic Arts</b>.
		  </text>

		  <text class="text-lg">
			<b>Navega por esta web</b> para obtener mÃ¡s detalles <a href={baseUrl + "/cv"}><u>sobre mÃ­</u></a> y mis <a href={baseUrl + "/projects"}><u>proyectos</u></a>.
		  </text>
		</div>
		<div class="mt-8">
		  	<a class="btn" href="mailto:contact.rubi_almansa@hotmail.com" target="_blank" referrerpolicy="no-referrer-when-downgrade">ðŸ“© Contactemos !</a>
		</div>

	  </div>

	  <div>
		<div class="text-3xl w-full font-bold mb-2">Proyectos profesionales (<a href="https://pogo.com/" target="_blank"><u>Pogo</u></a>, Electronic Arts)</div>
	  </div>

	  	<ul>
		{
			professional_projects.map((project) => (
				<HorizontalCard
					title={project.data.title}
					excerpt={project.data.excerpt}
					img={project.data.thumbnail}
					url={baseUrl + "/projects/" + project.slug}
					category = {project.data.category}
					tags = {project.data.tags}
				/>
			)) 
		}
		</ul>

	  <div>
		<div class="text-3xl w-full font-bold mb-5 mt-10">Proyectos personales (<a href="https://frasquitogames.com/" target="_blank"><u>Frasquito Games</u></a>)</b></div>
	  </div>

	  	<ul>
		{
			personal_projects.map((project) => (
				<HorizontalCard
					title={project.data.title}
					excerpt={project.data.excerpt}
					img={project.data.thumbnail}
					url={baseUrl + "/projects/" + project.slug}
					category = {project.data.category}
					tags = {project.data.tags}
				/>
			)) 
		}
		</ul>
</BaseLayout>